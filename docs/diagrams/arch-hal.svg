<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 320" width="100%">
<defs><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#333"/></marker></defs>
<rect x="0" y="0" width="480" height="320" fill="#ffffff"/>
<rect x="40" y="20" width="400" height="50" style="fill:#fff;stroke:#333;stroke-width:1.5"/>
<text x="240.0" y="41.0" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">Crosspoint Application Code</text>
<text x="240.0" y="57.0" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">(Activities, Themes, Readers, UI Logic)</text>
<line x1="240.0" y1="70" x2="240.0" y2="95" style="stroke:#333;stroke-width:1.5;fill:none" marker-end="url(#arrowhead)" />
<text x="240.0" y="88" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">Uses HAL interfaces</text>
<line x1="240.0" y1="95" x2="240.0" y2="115" style="stroke:#333;stroke-width:1.5;fill:none" marker-end="url(#arrowhead)" />
<rect x="40" y="115" width="400" height="80" style="fill:#fff;stroke:#333;stroke-width:1.5"/>
<text x="240.0" y="151.0" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">HAL Layer</text>
<text x="240.0" y="167.0" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">HalDisplay (display, clear)  •  HalGPIO (isPressed, wasPress)  •  SDCardMgr (open, read)</text>
<line x1="240.0" y1="195" x2="240.0" y2="220" style="stroke:#333;stroke-width:1.5;fill:none" marker-end="url(#arrowhead)" />
<line x1="240.0" y1="220" x2="140" y2="260" style="stroke:#333;stroke-width:1.5;fill:none" marker-end="url(#arrowhead)" />
<line x1="240.0" y1="220" x2="340" y2="260" style="stroke:#333;stroke-width:1.5;fill:none" marker-end="url(#arrowhead)" />
<rect x="40" y="260" width="180" height="48" style="fill:#fff;stroke:#333;stroke-width:1.5"/>
<text x="130.0" y="280.0" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">Device HAL (ESP32)</text>
<text x="130.0" y="296.0" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">E-ink driver, GPIO, SD SPI</text>
<rect x="260" y="260" width="180" height="48" style="fill:#fff;stroke:#333;stroke-width:1.5"/>
<text x="350.0" y="280.0" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">Sim HAL (SDL2/Desktop)</text>
<text x="350.0" y="296.0" style="font:14px system-ui, -apple-system, sans-serif;fill:#111;text-anchor:middle">SDL2 renderer, Keyboard, File system</text>
</svg>